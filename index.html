<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="author" content="xithiox">
    <title>Map Editor</title>
    <link href="style.css" rel="stylesheet">
    <script src="scripts/lib/p5.min.js" defer></script>
    <script src="scripts/utils.js" defer></script>
    <script src="scripts/sketch.js" defer></script>
  </head>
  <body>
    <header>
      <h1>Map Editor</h1>
    </header>

    <main>
      <aside id="tiles">
        <h2>Tiles</h2>
        <div>
          <p><button class="empty" onclick="selected='empty'">Empty Tile (1)</button></p>
          <p><button class="wall" onclick="selected='wall'">Wall Tile (2)</button></p>
          <p><button class="path" onclick="selected='path'">Path Tile (3)</button></p>
          <p><button class="tower" onclick="selected='tower'">Tower Tile (4)</button></p>
        </div>

        <h2>Special</h2>
        <div>
          <p><button class="spawn" onclick="selected='spawn'">Spawnpoint (5)</button></p>
          <p><button class="exit" onclick="selected='exit'">Exit Point (6)</button></p>
        </div>

        <h2>Paths</h2>
        <div>
          <p><button class="dir" onclick="selected='none'">No Path (0)</button></p>
          <p><button class="dir" onclick="selected='left'">Left Path (left)</button></p>
          <p><button class="dir" onclick="selected='up'">Up Path (up)</button></p>
          <p><button class="dir" onclick="selected='right'">Right Path (right)</button></p>
          <p><button class="dir" onclick="selected='down'">Down Path (down)</button></p>
        </div>
      </aside>

      <div id="sketch-holder"></div>

      <div class="aside-holder">
        <aside id="status"></aside>

        <aside id="utils">
          <h2>Utilities</h2>
          <div>
            <p><button class="fill" onclick="resetMap(0)">Reset Map (R)</button></p>
            <p><button class="fill" onclick="resetMap(1)">Fill Wall (W)</button></p>
            <p><button class="fill" onclick="resetMap(3)">Fill Tower (T)</button></p>
          </div>
          <div>
            <p><button class="io" onclick="importMap(prompt('Input map string:'))">Import map (M)</button></p>
            <p><button class="io" onclick="copyToClipboard(exportMap())">Export map (X)</button></p>
          </div>
          <div>
            <p><button class="dir" onclick="recalculate()">Auto-Pathfind (P)</button></p>
            <p><button class="dir" onclick="paths=buildArray(cols,rows,null)">Clear Pathfinding (Q)</button></p>
          </div>
          <p><button class="spawn" onclick="spawnpoints=[]">Clear Spawns (S)</button></p>
          <p><button class="zoom" onclick="ts=zoomDefault;resizeMax();resetMap(0)">Reset Zoom (Z)</button></p>
        </aside>
      </div>
    </main>

    <footer>
      <p id="copyright">&copy; 2017, xithiox</p>
    </footer>
  </body>
</html>
